(window.webpackJsonpwayfarer=window.webpackJsonpwayfarer||[]).push([[0],{30:function(e,t,a){},35:function(e,t,a){e.exports=a(73)},40:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(31),c=a.n(s),l=a(1),i=a(3),o=a(4),m=a(6),u=a(5),p=a(7),d=(a(40),function(e){var t=e.logout,a=e.currentUser,n=r.a.createElement("div",{className:"nav-items"},r.a.createElement("li",null,r.a.createElement(l.c,{className:"nav-li",to:"/cities"},"Cities")),r.a.createElement("li",null,r.a.createElement(l.c,{className:"nav-li",to:"/login"},"Log In")),r.a.createElement("li",null,r.a.createElement(l.c,{className:"nav-li",to:"/register"},"Register"))),s=r.a.createElement("div",{className:"nav-items"},r.a.createElement("li",null,r.a.createElement(l.c,{className:"nav-li",to:"/cities"},"Cities")),r.a.createElement("li",null,r.a.createElement(l.c,{className:"nav-li",to:"/profile"},"Profile")),r.a.createElement("li",null,r.a.createElement("span",{className:"nav-li",onClick:t,style:{cursor:"pointer"}},"Logout")));return r.a.createElement("nav",null,r.a.createElement("div",{className:"logo"},r.a.createElement(l.b,{className:"nav-li",to:"/"},r.a.createElement("h1",null,"Wayfarer"))),a?s:n)}),h=(a(34),a(14)),E=a(15),f=a(8),g=a.n(f),v=(a(63),function(e){var t=e.cityName,a=e.image;return r.a.createElement("div",{className:"city-card"},r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("strong",null,t))),r.a.createElement("img",{src:a,alt:"city-container"}))}),b=(a(64),function(e){var t=e.cities.map(function(e){return r.a.createElement(l.b,{key:e._id,to:"/cities/".concat(e.slug)},r.a.createElement(v,{key:e._id,cityName:e.name,image:e.image}))});return r.a.createElement("div",{className:"aside"},r.a.createElement("div",{className:"aside-header"},r.a.createElement("h1",null,"Cities")),r.a.createElement("div",{className:"asides-cities"},t))}),y=function(e){var t=e.name,a=e.image,n=e.description;return r.a.createElement("section",{className:"city-header"},r.a.createElement("div",{className:"city-name"},r.a.createElement("h2",null,t),r.a.createElement("h5",null,n)),r.a.createElement("div",{className:"city-image"},r.a.createElement("img",{src:a,alt:"city"})))},N=(a(30),function(e){var t=e.id,a=e.title,n=e.content,s=e.image,c=e.currentUser,i=e.handleDelete,o=(e.posts,e.city_slug);return r.a.createElement("div",{className:"post-box"},c&&r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-pen-square"}),r.a.createElement("i",{onClick:function(e){i(e,t)},className:"fas fa-minus-circle"})),r.a.createElement("div",{className:"post-box-image"},r.a.createElement("img",{src:s,alt:"city"})),r.a.createElement("div",{className:"post-box-content"},r.a.createElement("h4",null,a),n),r.a.createElement(l.b,{key:t,to:"/post/".concat(o)},r.a.createElement("i",{className:"fas fa-expand-arrows-alt"})))}),C=function(e){var t=e.posts,a=e.currentUser,n=e.image,s=e.handleDelete,c=e.handleEdit,l=t.map(function(e){return r.a.createElement(N,{key:e._id,id:e._id,name:e.name,content:e.content,title:e.title,image:n,posts:t,handleDelete:s,handleEdit:c,currentUser:a})});return r.a.createElement("section",{className:"posts-container"},l)},w=function(e){var t=e.currentUser,a=e.postImage,n=e.handleDelete,s=e.posts,c=e.cityAsProp,i=c.name,o=c.image,m=c.description,u=c.slug;return r.a.createElement("div",{className:"container"},r.a.createElement(y,{name:i,image:o,description:m}),r.a.createElement("div",{className:"posts-header"},r.a.createElement("h2",null,"Posts"),t&&r.a.createElement(l.b,{to:"/city/add_post/".concat(u),className:"post-btn"},"+")),s&&r.a.createElement(C,{currentUser:t,posts:s,image:a,handleDelete:n}))},j="https://wayfarer-backend-megancummings.herokuapp.com/api/v1",O=(a(65),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:{},cities:[],posts:[],cityAsProp:{},title:"",content:"",deletedPost:[]},a.setCityProp=function(){a.state.cities.forEach(function(e){e.slug===a.props.cityName&&a.setState({cityAsProp:e})})},a.handleChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.handleEdit=function(e){e.preventDefault()},a.handleDelete=function(e,t){e.preventDefault(),a.deletePost(e,t),a.getCities()},a.getCurrentUserData=function(){g.a.get("".concat(j,"/users/").concat(a.props.currentUser)).then(function(e){a.setState({user:e.data.data})}).catch(function(e){return console.log(e.response)})},a.getCities=function(){g.a.get("".concat(j,"/cities")).then(function(e){a.setState({cities:e.data}),a.setState({posts:a.state.cityAsProp.posts})}).catch(function(e){return console.log(e)})},a.submitPost=function(e){e.preventDefault();var t=a.state.posts;g.a.post("".concat(j,"/posts/"),{username:a.state.user.username,city_slug:a.props.cityName,title:a.state.title,content:a.state.content},{withCredentials:!0}).then(function(e){t.push(e.data.data),a.setState({posts:t}),a.getCities(),a.props.goBack()}).catch(function(e){console.log(e.response)})},a.deletePost=function(e,t){g.a.delete("".concat(j,"/posts/").concat(t)).then(function(e){var n=a.state.cityAsProp.posts.filter(function(e){return e._id!==t});a.setState({posts:n}),a.getCities(),a.props.goBack(),a.props.goForward()}).catch(function(e){return console.log(e.response)})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(this.props.cityName)return this.setCityProp();this.getCities(),this.getCurrentUserData()}},{key:"componentDidUpdate",value:function(e,t){e.cityName!==this.props.cityName&&(this.setCityProp(),this.getCities()),t.cityAsProp!==this.state.cityAsProp&&this.getCities()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"cities-container"},this.props.deletePost&&r.a.createElement("div",null,r.a.createElement(l.b,{to:"/cities"}," ",r.a.createElement("button",null,"Cancel")," "),r.a.createElement("button",{onClick:this.deletePost},"Delete")),r.a.createElement("div",{className:"aside"},r.a.createElement(b,{cities:this.state.cities})),r.a.createElement("div",{className:"city-posts"},this.props.cityName&&r.a.createElement(w,{currentUser:this.props.currentUser,cityAsProp:this.state.cityAsProp,posts:this.state.posts,postImage:this.state.user.image_url,handleDelete:this.handleDelete,handleEdit:this.handleEdit,refreshPosts:this.refreshPosts})),this.props.addPost&&r.a.createElement("div",{className:"add-post"},r.a.createElement(l.b,{onClick:function(){return e.props.goBack()}},"x"),r.a.createElement("form",null,r.a.createElement("label",null,"Title"),r.a.createElement("input",{type:"text",name:"title",value:this.state.title,onChange:this.handleChange}),r.a.createElement("label",null,"Content"),r.a.createElement("input",{id:"add-post-content",type:"text",name:"content",value:this.state.content,onChange:this.handleChange}),r.a.createElement("button",{onClick:this.submitPost},"Submit"))))}}]),t}(n.Component)),k=(a(66),function(e){var t=e.user,a=t.image_url,n=t.username,s=t.email,c=t.current_city,l=t.date_joined;return r.a.createElement("div",{className:"profile-page"},r.a.createElement("h1",{className:"profile-heading"},"Profile Page"),r.a.createElement("div",{className:"profile-container"},r.a.createElement("img",{src:a,alt:"Profile Avatar"}),r.a.createElement("h3",null,r.a.createElement("strong",null,"Username: "),n),r.a.createElement("h3",null,r.a.createElement("strong",null,"Email: "),s),r.a.createElement("h3",null,r.a.createElement("strong",null,"Current City: "),c),r.a.createElement("h3",null,r.a.createElement("strong",null,"Date Joined: "),l)))}),U=(a(67),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={profile:null,posts:[],postsFiltered:null,errors:null},a.getUserInfo=function(){var e=localStorage.getItem("uid");g.a.get("".concat(j,"/users/").concat(e),{withCredentials:!0}).then(function(e){return a.setState({profile:e.data})}).catch(function(e){return console.log(e)})},a.handleDelete=function(e){e.preventDefault(),console.log(e.target),a.deletePost()},a.getPosts=function(){g.a.get("".concat(j,"/posts")).then(function(e){var t=e.data.data.filter(function(e){if(e.username===a.state.profile.data.username)return e});a.setState({postsFiltered:t})}).catch(function(e){return console.log(e)})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getUserInfo(),this.getPosts()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"post-container"},this.state.errors&&this.state.errors.map(function(e,t){return r.a.createElement("div",{className:"alert",style:{width:"100%"},role:"alert",key:t},e.message,r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert"},r.a.createElement("span",null,"\xd7")))}),this.state.profile&&r.a.createElement(k,{user:this.state.profile.data}),r.a.createElement("div",{className:"post-container"},r.a.createElement("h2",null,"Your Posts"),this.state.postsFiltered&&this.state.postsFiltered.map(function(t){return r.a.createElement("div",{className:"post",key:t._id},r.a.createElement(l.b,{to:"/cities/".concat(t.city_slug)},"Check out the City"),r.a.createElement("h4",null,t.title," "),r.a.createElement("p",null,t.content),r.a.createElement("p",null," Author: ",t.username),r.a.createElement("button",{onClick:e.handleEdit},"Edit Post"))})))}}]),t}(n.Component)),P=(a(68),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={post:{id:1,name:"San Francisco",content:"Fun time in San Francisco",imageUrl:"https://i.stack.imgur.com/34AD2.jpg",date:(new Date).toLocaleDateString}},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"post-container"},r.a.createElement("div",{className:"post"},r.a.createElement("img",{src:this.state.post.imageUrl,alt:"".concat(this.state.post.name)}),r.a.createElement("h1",null,this.state.post.name),r.a.createElement("p",null,this.state.post.content),r.a.createElement("p",null,"Posted By: Eduardo")))}}]),t}(n.Component)),x=(a(69),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",error:null},a.handleChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.handlleSubmit=function(e){e.preventDefault();var t=a.state;g.a.post("".concat(j,"/auth/login"),t,{withCredentials:!0}).then(function(e){a.props.setCurrentUser(e.data.id),a.props.history.push("/cities")}).catch(function(e){a.setState({error:e.response.data.message})})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container login"},r.a.createElement("h1",null,"Login"),r.a.createElement(l.b,{className:"exit-form",to:"/"},"x"),r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-md-6 offset-md-3"},this.state.error,r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{value:this.state.email,onChange:this.handleChange,className:"form-control",type:"email",id:"email",name:"email",placeholder:"example@example.com"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{value:this.state.password,onChange:this.handleChange,className:"form-control",type:"password",id:"password",name:"password",placeholder:"Password"})),r.a.createElement("button",{onClick:this.handlleSubmit,className:"submit"},"Login")))))}}]),t}(n.Component)),D=(a(70),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:"",password2:"",errors:[],text:"",shouldComponentDisplayErrors:!1},a.handleChange=function(e){a.setState(Object(E.a)({},e.target.name,e.target.value))},a.handleSubmit=function(e){e.preventDefault();var t=a.state;g.a.post("".concat(j,"/auth/signup"),t).then(function(e){a.props.history.push("/login")}).catch(function(e){var t=e.response.data.errors;a.setState({errors:t,shouldComponentDisplayErrors:!0})})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container signup"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},r.a.createElement("h2",null,"Register"))),r.a.createElement("div",{className:"row text-center"},r.a.createElement("div",{className:"col-md-6 offset-md-3"},this.state.shouldComponentDisplayErrors&&this.state.errors.map(function(e,t){return r.a.createElement("div",{className:"alert",role:"alert",key:t},e.message,r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")))}))),r.a.createElement(l.b,{className:"exit-form",to:"/"},"X"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 offset-md-3"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"username",id:"username",name:"username",value:this.state.username,onChange:this.handleChange,className:"form-control",placeholder:"Username"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",id:"email",name:"email",value:this.state.email,onChange:this.handleChange,className:"form-control",placeholder:"Email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",id:"password",name:"password",value:this.state.password,onChange:this.handleChange,className:"form-control"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password2"},"Confirm Password"),r.a.createElement("input",{type:"password",id:"password2",name:"password2",value:this.state.password2,onChange:this.handleChange,className:"form-control"})),r.a.createElement("button",{type:"submit",className:"auth-btn submit"},"Register")))))}}]),t}(n.Component)),S=(a(71),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).images=[{url:"https://images.unsplash.com/photo-1470219556762-1771e7f9427d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2089&q=80",alt:"New York City"},{url:"https://images.unsplash.com/photo-1493540554008-8e3008329feb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80",alt:"Chicago"},{url:"https://images.unsplash.com/photo-1480714378408-67cf0d13bc1b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80",alt:"Los Angeles"}],a.state={index:0},a.carouselTimer=void 0,a.setBackgroundImage=function(){a.carouselTimer=setInterval(a.incrementCarousel,3e3)},a.incrementCarousel=function(){var e=a.state.index+1,t=e>=a.images.length;a.setState({index:t?0:e})},a.decrementCarousel=function(){var e=a.state.index-1,t=e<0;a.setState({index:t?a.images.length-1:e})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.setBackgroundImage()}},{key:"componentWillUnmount",value:function(){clearInterval(this.carouselTimer)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"home-body"},r.a.createElement("section",{className:"home-carousel"},r.a.createElement("div",{className:"carousel-image-container"},r.a.createElement("img",{className:"carousel-image",src:this.images[this.state.index].url,alt:this.images[this.state.index].alt}),r.a.createElement("i",{onClick:this.decrementCarousel,className:"arrow left"}),r.a.createElement("i",{onClick:function(){return e.incrementCarousel()},className:"arrow right"}))),this.props.login?r.a.createElement(x,{setCurrentUser:this.props.setCurrentUser,history:this.props.history}):null,this.props.register&&r.a.createElement(D,{history:this.props.history}),r.a.createElement("div",{className:"main"},r.a.createElement("h1",{className:"heading"},"Wayfarer is.."),r.a.createElement("section",{className:"home-content"},r.a.createElement("div",{className:"home-card"},r.a.createElement("h2",null,"San Francisco"),r.a.createElement("p",null,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Hic, voluptatibus facilis nostrum vero ipsum unde, odit magni consequatur in sed tempora vitae nulla laudantium ullam accusamus sit optio corporis et.")),r.a.createElement("div",{className:"home-card"},r.a.createElement("h2",null,"New York"),r.a.createElement("p",null,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Hic, voluptatibus facilis nostrum vero ipsum unde, odit magni consequatur in sed tempora vitae nulla laudantium ullam accusamus sit optio corporis et.")),r.a.createElement("div",{className:"home-card"},r.a.createElement("h2",null,"Jacksonville"),r.a.createElement("p",null,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Hic, voluptatibus facilis nostrum vero ipsum unde, odit magni consequatur in sed tempora vitae nulla laudantium ullam accusamus sit optio corporis et.")))),r.a.createElement("section",{className:"home-footer"}))}}]),t}(n.Component)),_=Object(h.g)(function(e){var t=e.setCurrentUser,a=e.history,n=e.currentUser;return r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/",component:S}),r.a.createElement(h.b,{exact:!0,path:"/wayfarer",component:S}),r.a.createElement(h.b,{path:"/login",render:function(e){return r.a.createElement(S,Object.assign({},e,{login:e.match.path,setCurrentUser:t},a))}}),r.a.createElement(h.b,{path:"/register",render:function(e){return r.a.createElement(S,Object.assign({},e,{register:e.match.path}))}}),r.a.createElement(h.b,{path:"/post/:id",render:function(e){return r.a.createElement(P,Object.assign({},e,{currentUser:n,id:e.match.params.id}))}}),r.a.createElement(h.b,{path:"/cities/:city_name",render:function(e){return r.a.createElement(O,Object.assign({},e,{currentUser:n,cityName:e.match.params.city_name}))}}),r.a.createElement(h.b,{exact:!0,path:"/cities",render:function(e){return r.a.createElement(O,Object.assign({},e,{currentUser:n}))}}),r.a.createElement(h.b,{path:"/delete_post/:id",render:function(e){return r.a.createElement(O,Object.assign({},e,{currentUser:n,deletePost:e.match.params.id}))}}),r.a.createElement(h.b,{exact:!0,path:"/city/add_post/:city_name",render:function(e){return r.a.createElement(O,Object.assign({},e,{currentUser:n,addPost:!0},a,{cityName:e.match.params.city_name}))}}),r.a.createElement(h.b,{path:"/profile",render:function(e){return r.a.createElement(U,Object.assign({},e,{currentUser:n,addPost:!0},a,{slug:e.match.params.slug,user_id:e.match.params.user_id}))}}),r.a.createElement(h.b,{path:"/delete_post/:id",render:function(e){return r.a.createElement(U,Object.assign({},e,{currentUser:n,deletePost:e.match.params.id}))}}))}),A=(a(72),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentUser:localStorage.getItem("uid")},a.setCurrentUser=function(e){localStorage.setItem("uid",e),a.setState({currentUser:e})},a.handleLogout=function(){localStorage.removeItem("uid"),g.a.post("".concat(j,"/auth/logout"),{withCredentials:!0}).then(function(){a.setState({currentUser:null}),a.props.history.push("/login")}).catch(function(e){return console.log(e.response)})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(d,{logout:this.handleLogout,currentUser:this.state.currentUser}),r.a.createElement(_,{setCurrentUser:this.setCurrentUser,currentUser:this.state.currentUser}))}}]),t}(n.Component)),F=Object(h.g)(A);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,null,r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.198d6e09.chunk.js.map